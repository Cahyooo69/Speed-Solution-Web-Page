<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Style Test</title>
</head>
<body style="margin: 0; padding: 20px; font-family: Arial, sans-serif; background-color: #f0f0f0;">
    <h1>Speed Solution - Chat Style Test</h1>
    <p>Klik mascot di pojok kanan bawah untuk test chat!</p>

    <!-- Floating Chat Button -->
    <div class="floating-btn" id="floating-chat-btn" style="position: fixed !important; bottom: 30px !important; right: 30px !important; width: 80px !important; height: 80px !important; background: white !important; border-radius: 50% !important; z-index: 9999 !important; cursor: pointer !important; display: flex !important; align-items: center !important; justify-content: center !important; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important; transition: transform 0.3s ease !important; border: none !important; outline: none !important;">
        <img src="images/mechanic_mascot.png" alt="Speed Solution Chat" style="width: 70px !important; height: 70px !important; object-fit: contain !important; border-radius: 50% !important;">
    </div>

    <!-- Chat Container -->
    <div class="chat-container" id="chat-container" style="display: none !important; position: fixed !important; bottom: 120px !important; right: 30px !important; width: 380px !important; height: 500px !important; background-color: #fff !important; border-radius: 15px !important; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2) !important; z-index: 9998 !important; flex-direction: column !important; overflow: hidden !important; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;">
        <div class="chat-header" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important; color: white !important; padding: 20px !important; display: flex !important; justify-content: space-between !important; align-items: center !important;">
            <h3 style="margin: 0 !important; font-size: 18px !important; font-weight: 600 !important;">Speed Solution Konsultasi</h3>
            <button class="close-chat" id="close-chat" style="background: none !important; border: none !important; color: white !important; font-size: 24px !important; cursor: pointer !important; padding: 0 !important; width: 30px !important; height: 30px !important; display: flex !important; align-items: center !important; justify-content: center !important;">&times;</button>
        </div>
        
        <div class="chat-body" style="flex: 1 !important; overflow: hidden !important; display: flex !important; flex-direction: column !important;">
            <div class="chat-messages" id="chat-messages" style="flex: 1 !important; padding: 20px !important; overflow-y: auto !important; background-color: #f8f9fa !important;">
                <div class="chat-message message-received" style="margin-bottom: 15px !important; padding: 12px 16px !important; border-radius: 18px !important; max-width: 80% !important; word-wrap: break-word !important; font-size: 14px !important; line-height: 1.4 !important; background-color: #e9ecef !important; color: #333 !important; margin-right: auto !important; border-bottom-left-radius: 4px !important;">
                    Halo! Selamat datang di Speed Solution. Ada yang bisa saya bantu dengan kendaraan Anda?
                </div>
            </div>
        </div>
        
        <div class="chat-input" style="padding: 20px !important; border-top: 1px solid #e9ecef !important; display: flex !important; gap: 10px !important; background-color: #fff !important;">
            <input type="text" id="message-input" placeholder="Ketik pesan Anda..." style="flex: 1 !important; padding: 12px 16px !important; border: 1px solid #ddd !important; border-radius: 25px !important; outline: none !important; font-size: 14px !important;">
            <button id="send-message" style="padding: 12px 20px !important; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important; color: white !important; border: none !important; border-radius: 25px !important; cursor: pointer !important; font-size: 14px !important; font-weight: 600 !important;">Kirim</button>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        console.log('Chat test script loaded');
        
        const floatingBtn = document.getElementById('floating-chat-btn');
        const chatContainer = document.getElementById('chat-container');
        const closeBtn = document.getElementById('close-chat');
        const messageInput = document.getElementById('message-input');
        const sendBtn = document.getElementById('send-message');
        const chatMessages = document.getElementById('chat-messages');
        
        // Hover effect for floating button
        floatingBtn.addEventListener('mouseenter', function() {
            this.style.transform = 'scale(1.1)';
            this.style.boxShadow = '0 6px 20px rgba(0, 0, 0, 0.4)';
        });
        
        floatingBtn.addEventListener('mouseleave', function() {
            this.style.transform = 'scale(1)';
            this.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.3)';
        });
        
        // Show chat
        function showChat() {
            console.log('Showing chat');
            chatContainer.style.display = 'flex';
        }
        
        // Hide chat
        function hideChat() {
            console.log('Hiding chat');
            chatContainer.style.display = 'none';
        }
        
        // Event listeners
        floatingBtn.addEventListener('click', showChat);
        closeBtn.addEventListener('click', hideChat);
        
        // Send message
        function sendMessage() {
            const message = messageInput.value.trim();
            if (message) {
                console.log('Sending message:', message);
                
                const messageDiv = document.createElement('div');
                messageDiv.style.cssText = 'margin-bottom: 15px !important; padding: 12px 16px !important; border-radius: 18px !important; max-width: 80% !important; word-wrap: break-word !important; font-size: 14px !important; line-height: 1.4 !important; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important; color: white !important; margin-left: auto !important; border-bottom-right-radius: 4px !important; display: block !important;';
                messageDiv.innerHTML = `
                    ${message}
                    <div style="font-size: 0.7rem !important; color: rgba(255,255,255,0.8) !important; margin-top: 5px !important; text-align: right !important;">${new Date().toLocaleTimeString('id-ID', {hour: '2-digit', minute: '2-digit'})}</div>
                `;
                chatMessages.appendChild(messageDiv);
                
                messageInput.value = '';
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        }
        
        sendBtn.addEventListener('click', sendMessage);
        messageInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
    });
    </script>
</body>
</html>
